<!-- views/partials/_header.ejs -->
<header class="site-header">
  <div class="wrap">
    <!-- Marque -->
    <a class="brand" href="/" aria-label="Accueil Blog Interactif">
      <span class="brand-emoji" aria-hidden="true">ðŸ“°</span>
      <span class="brand-text">Blog Interactif</span>
    </a>

    <!-- Navigation principale -->
    <nav class="nav" aria-label="Navigation principale">
      <a href="/" class="<%= (pageTitle === 'Accueil') ? 'active' : '' %>">Accueil</a>
      <a href="/articles" class="<%= (pageTitle === 'Articles') ? 'active' : '' %>">Articles</a>
      <!-- Si tu veux des pages CatÃ©gories/Tags cÃ´tÃ© EJS, ajoute leurs routes front plus tard -->
      <!-- <a href="/categories" class="<%= (pageTitle === 'CatÃ©gories') ? 'active' : '' %>">CatÃ©gories</a> -->
      <!-- <a href="/tags" class="<%= (pageTitle === 'Tags') ? 'active' : '' %>">Tags</a> -->
      <!-- Liens API (nouvel onglet) -->
      <a href="/api/categories" target="_blank" rel="noopener">CatÃ©gories (API)</a>
      <a href="/api/tags" target="_blank" rel="noopener">Tags (API)</a>
    </nav>

    <!-- Recherche -->
    <form class="search" action="/articles" method="get" role="search">
      <input
        type="text"
        name="q"
        placeholder="Rechercher un articleâ€¦"
        value="<%= typeof query !== 'undefined' ? query : '' %>"
        aria-label="Rechercher un article"
      />
      <button type="submit" aria-label="Lancer la recherche">Chercher</button>
    </form>

    <!-- Espace utilisateur / Admin (optionnel) -->
    <nav class="nav user" aria-label="Espace utilisateur">
      <% if (typeof user !== 'undefined' && user?.role === 'admin') { %>
        <a href="/admin/dashboard" class="btn ghost">Admin</a>
        <a href="/logout" class="btn ghost">DÃ©connexion</a>
      <% } else { %>
        <a href="/login" class="btn ghost">Connexion</a>
      <% } %>
    </nav>
  </div>
</header>