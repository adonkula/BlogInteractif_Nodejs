<!DOCTYPE html>
<html lang="fr">
  <head>
    <!-- Inclusion de toutes les meta, styles et polices -->
    <%- include('../partials/_head') %>

    <!-- Titre dynamique -->
    <title>
      <%= pageTitle ? (pageTitle + ' – Blog Interactif') : 'Blog Interactif' %>
    </title>
  </head>

  <body>
    <!-- Lien d’accessibilité pour navigation clavier -->
    <a class="skip-link" href="#main-content">Aller au contenu principal</a>

    <!-- En-tête principal -->
    <%- include('../partials/_header') %>

    <!-- Messages flash (si présents) -->
    <% if (typeof flash !== 'undefined' && flash && flash.length) { %>
      <section class="flash-wrap" role="status" aria-live="polite">
        <% flash.forEach(msg => { %>
          <div class="flash <%= msg.type || 'info' %>">
            <%= msg.text %>
          </div>
        <% }) %>
      </section>
    <% } %>

    <!-- Contenu principal -->
    <main id="main-content" class="container" role="main">
      <%- body %>
    </main>

    <!-- Pied de page -->
    <%- include('../partials/_footer') %>

    <!-- Scripts spécifiques à la page -->
    <% if (typeof pageScripts !== 'undefined' && pageScripts.length) { %>
      <% pageScripts.forEach(src => { %>
        <script defer src="<%= src %>"></script>
      <% }) %>
    <% } %>

    <!-- Animation d’entrée fluide -->
    <script>
      document.body.classList.add('fade-in');
    </script>
  </body>
</html>